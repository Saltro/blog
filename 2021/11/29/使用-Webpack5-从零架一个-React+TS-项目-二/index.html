<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>使用 Webpack5 从零架一个 React+TS 项目（二） | SaltroPing 的博客小站</title><meta name="keywords" content="前端,Webpack"><meta name="author" content="Saltro Ping"><meta name="copyright" content="Saltro Ping"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="css &amp; less 配置书接上文，我们已经完成了 tsx 的基本配置，可以直接写 tsx 了。但问题来了，我们编写网页不可能只写 html 和 js 吧，还需要 css 文件，所以不妨让我们来简单写一下 css。 1234567891011121314&#x2F;&#x2F; src&#x2F;App.tsximport React from &amp;#x27;react&amp;#x27;;import &amp;#x27;.&#x2F;App.">
<meta property="og:type" content="article">
<meta property="og:title" content="使用 Webpack5 从零架一个 React+TS 项目（二）">
<meta property="og:url" content="http://blog.saltroping.com/2021/11/29/%E4%BD%BF%E7%94%A8-Webpack5-%E4%BB%8E%E9%9B%B6%E6%9E%B6%E4%B8%80%E4%B8%AA-React+TS-%E9%A1%B9%E7%9B%AE-%E4%BA%8C/index.html">
<meta property="og:site_name" content="SaltroPing 的博客小站">
<meta property="og:description" content="css &amp; less 配置书接上文，我们已经完成了 tsx 的基本配置，可以直接写 tsx 了。但问题来了，我们编写网页不可能只写 html 和 js 吧，还需要 css 文件，所以不妨让我们来简单写一下 css。 1234567891011121314&#x2F;&#x2F; src&#x2F;App.tsximport React from &amp;#x27;react&amp;#x27;;import &amp;#x27;.&#x2F;App.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://qiniu-picgo.saltroping.com/Anon.jpg">
<meta property="article:published_time" content="2021-11-29T14:15:13.000Z">
<meta property="article:modified_time" content="2021-12-04T06:05:00.820Z">
<meta property="article:author" content="Saltro Ping">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="Webpack">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://qiniu-picgo.saltroping.com/Anon.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://blog.saltroping.com/2021/11/29/%E4%BD%BF%E7%94%A8-Webpack5-%E4%BB%8E%E9%9B%B6%E6%9E%B6%E4%B8%80%E4%B8%AA-React+TS-%E9%A1%B9%E7%9B%AE-%E4%BA%8C/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '使用 Webpack5 从零架一个 React+TS 项目（二）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-12-04 14:05:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="http://qiniu-picgo.saltroping.com/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('http://qiniu-picgo.saltroping.com/Anon.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">SaltroPing 的博客小站</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">使用 Webpack5 从零架一个 React+TS 项目（二）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-29T14:15:13.000Z" title="发表于 2021-11-29 22:15:13">2021-11-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-12-04T06:05:00.820Z" title="更新于 2021-12-04 14:05:00">2021-12-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/CS/">CS</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="使用 Webpack5 从零架一个 React+TS 项目（二）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="css-amp-less-配置"><a href="#css-amp-less-配置" class="headerlink" title="css &amp; less 配置"></a>css &amp; less 配置</h2><p>书接上文，我们已经完成了 tsx 的基本配置，可以直接写 tsx 了。但问题来了，我们编写网页不可能只写 html 和 js 吧，还需要 css 文件，所以不妨让我们来简单写一下 css。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// src/App.tsx</span><br><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import &#x27;./App.css&#x27;;</span><br><span class="line"></span><br><span class="line">const App: React.FC = () =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1 id=&quot;title&quot;&gt;Hello React + TypeScript!&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default App;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// <span class="attribute">src</span>/App<span class="selector-class">.css</span></span><br><span class="line"><span class="selector-id">#title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid aqua;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译之后发现报错了，很显然是因为我们用 <code>import</code> 把 <code>App.css</code> 文件交给了 webpack 去解析，但 webpack 本身也无法解析 css 文件。所以归根到底我们还是需要增加一些 loader 来解析 css。这里我们需要的是 <code>css-loader</code> 和 <code>style-loader</code>，前者用于解析我们 import 的 css 文件（包括使用 <code>@import</code> 和 <code>url()</code> 引入的文件），后者用于把解析后的样式直接插入到 dom 中，无需在 html 中引入 css 文件。</p>
<p>安装完成后需要在 webpack 中对 css 文件进行配置。</p>
<blockquote>
<p>webpack loader 的执行顺序是链式的，即从右到左，因此下面配置中对 css 的解析顺序实际上是 css-loader -&gt; style-loader</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// webpack.config.js</span><br><span class="line">...</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.css$/,</span><br><span class="line">        use: [&#x27;style-loader&#x27;, &#x27;css-loader&#x27;],</span><br><span class="line">      &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>再次编译我们就可以看到页面上红色的文字了。</p>
<p>于是我们就可以愉快地开发页面了，不如让我们来试着写一个 Header component。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// src/components/Header/index.tsx</span><br><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import &#x27;./index.css&#x27;;</span><br><span class="line"></span><br><span class="line">function Header() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h2 className=&quot;subtitle&quot;&gt;This is my header&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Header;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// <span class="attribute">src</span>/components/<span class="selector-tag">Header</span>/index<span class="selector-class">.css</span></span><br><span class="line"><span class="selector-class">.subtitle</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">text-decoration</span>: overline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后在 <code>App.tsx</code> 中引用组件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// src/App.tsx</span><br><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import Header from &#x27;./components/Header&#x27;;</span><br><span class="line">import &#x27;./App.css&#x27;;</span><br><span class="line"></span><br><span class="line">const App: React.FC = () =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Header /&gt;</span><br><span class="line">      &lt;h1 id=&quot;title&quot;&gt;Hello React + TypeScript!&lt;/h1&gt;</span><br><span class="line">      &lt;h2 className=&quot;subtitle&quot;&gt;This is a subtitle&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default App;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// <span class="attribute">src</span>/App<span class="selector-class">.css</span></span><br><span class="line"><span class="selector-id">#title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid aqua;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.subtitle</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们预期的结果应该是页面顶部有一个红色的 Header，之后是一行红色一行橘色的文字，但结果并非如此。</p>
<p><img src="http://qiniu-picgo.saltroping.com/image-20211128123903973.png" alt="image-20211128123903973"></p>
<p>我们发现 <code>App.tsx</code> 和 <code>index.css</code> 中两个 <code>.subtitle</code> 样式冲突了！这会给我们日后的开发带来诸多不便，我们必须时刻提防样式污染，小心谨慎地设置类名，采用 BEM 的方式去保证类名的唯一性。这样做的效率并不算高，我们需要更便捷一些，我们需要的是 css 模块化！好消息是我们可以在 <code>css-loader</code> 中设置 css module 来实现模块化。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line">...</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">modules</span>: <span class="literal">true</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>这样一来 css 编译后会自动将标识符导出，如 <code>exports.locals = &#123; title: &#39;V8B7rqnYmo_Ur5uY5B7S&#39;, subtitle: &#39;zJbxMA7L77HGYjVzSX2h&#39; &#125;</code>，所以在 tsx 中我们需要 <code>import style from &#39;./App.css&#39;</code> 以导入这个 style 对象，然后使用 <code>className=&#123;style.subtitle&#125;</code> 以使用它。</p>
<p>但是你应该已经发现了，当我们使用 ts 进行以上操作时，它会报错 <code>Cannot find module &#39;./index.css&#39; or its corresponding type declarations.</code>。我们的 <code>style</code> 对象并没有相关类型声明，自然也无法在 tsx 中使用。这个问题的解决办法有很多，比如可以将 <code>import style from &#39;./index.css&#39;</code> 改为 <code>const style = require(&#39;./index.css&#39;)</code>，也可以使用 <code>typings-for-css-modules-loader</code> 解决。我这里采用了较为折中一点办法，手动增加一个模块类型声明文件。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/typings/index.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="built_in">module</span> <span class="string">&#x27;*.css&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> content: &#123; [selector: <span class="built_in">string</span>]: <span class="built_in">string</span> &#125;;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后在 <code>tsconfig.json</code> 中增加声明文件路径就可以使用了。注意，tsconfig 中 <code>typeRoots</code> 和 <code>types</code> 的设定会替代默认的 <code>node_modules/@types</code> 路径，所以设置时要根据具体需求来设置。</p>
<blockquote>
<h2 id="types，typeRoots和types"><a href="#types，typeRoots和types" class="headerlink" title="@types，typeRoots和types"></a><code>@types</code>，<code>typeRoots</code>和<code>types</code></h2><p>默认所有<em>可见的</em>“<code>@types</code>“包会在编译过程中被包含进来。 <code>node_modules/@types</code>文件夹下以及它们子文件夹下的所有包都是<em>可见的</em>； 也就是说， <code>./node_modules/@types/</code>，<code>../node_modules/@types/</code>和<code>../../node_modules/@types/</code>等等。</p>
<p>如果指定了<code>typeRoots</code>，<em>只有</em><code>typeRoots</code>下面的包才会被包含进来。</p>
<p>如果指定了<code>types</code>，只有被列出来的包才会被包含进来。</p>
</blockquote>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tsconfig.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;outDir&quot;</span>: <span class="string">&quot;./dist&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;target&quot;</span>: <span class="string">&quot;es5&quot;</span>, <span class="comment">// 指定编译到的 es 版本 es5</span></span><br><span class="line">        <span class="attr">&quot;module&quot;</span>: <span class="string">&quot;es6&quot;</span>, <span class="comment">// 指定编译到的模块系统 es6</span></span><br><span class="line">        <span class="attr">&quot;strict&quot;</span>: <span class="literal">true</span>, <span class="comment">// 使用严格类型检查</span></span><br><span class="line">        <span class="attr">&quot;allowJs&quot;</span>: <span class="literal">true</span>, <span class="comment">// 允许使用 js 语法</span></span><br><span class="line">        <span class="attr">&quot;jsx&quot;</span>: <span class="string">&quot;react&quot;</span>, <span class="comment">// 指定 jsx 语法 react</span></span><br><span class="line">        <span class="attr">&quot;allowSyntheticDefaultImports&quot;</span>: <span class="literal">true</span>, <span class="comment">// 允许使用类似 import React from &#x27;react&#x27; 的语法</span></span><br><span class="line">        <span class="attr">&quot;moduleResolution&quot;</span>: <span class="string">&quot;node&quot;</span>, <span class="comment">// 指定模块解析器 node 允许直接 import node_modules 中的模块，并且允许解析目录</span></span><br><span class="line">        <span class="attr">&quot;typeRoots&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;node_modules/@types&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/typings&quot;</span></span><br><span class="line">        ] <span class="comment">// 指定类型文件的搜索目录</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在终于正常显示了。</p>
<p><img src="http://qiniu-picgo.saltroping.com/image-20211129171923015.png" alt="image-20211129171923015"></p>
<p>但是还有一个问题，那就是当我们打开控制台时，我们会发现元素的选择器是一堆“乱码”。</p>
<p><img src="http://qiniu-picgo.saltroping.com/image-20211129172035953.png" alt="image-20211129172035953"></p>
<p>css module 在转变选择器时默认直接把选择器替换为 base64 转换后的字符串，但这并不方便我们调试，我们需要手动在 <code>css-loader</code> 的 module 选项中设置转换后的名字。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line">...</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">modules</span>: &#123;</span><br><span class="line">                <span class="attr">localIdentName</span>: <span class="string">&#x27;[path][name]__[local]--[hash:base64:5]&#x27;</span>,</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>这样类名就比较清晰了。</p>
<p><img src="http://qiniu-picgo.saltroping.com/image-20211129172950857.png" alt="image-20211129172950857"></p>
<p>接着我们来配置 css 预处理器——less。依旧是安装 <code>npm i less-loader less -D</code>。然后只需要将所有的 css 文件改成 less 文件，再修改一下 tsx 中的导入，再修改一下 <code>webpack.config.js</code> 中对 less 文件的解析，最后再修改一下 <code>typings</code> 声明文件就好了。来动手试一下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js </span></span><br><span class="line">...</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">modules</span>: &#123;</span><br><span class="line">                <span class="attr">localIdentName</span>: <span class="string">&#x27;[path][name]__[local]--[hash:base64:5]&#x27;</span>,</span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;less-loader&#x27;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>这样一番操作之后，我们便可以在项目中使用 less 预处理器开发了，并且和我们之前配置的 css module 也没有冲突。</p>
<h2 id="代码规范化"><a href="#代码规范化" class="headerlink" title="代码规范化"></a>代码规范化</h2><p>我相信大部分经历过团队开发的人都遇到过代码协作上的问题，要么是有人加分号有人不加分号，要么是有人以 lf 结尾有人以 crlf 结尾。但不论哪种，都会让代码协作变得非常繁琐。这时就急需一种能够检查代码中的问题、统一代码风格的工具，那便是 eslint+prettier+.editorconfig。在此说明，我平常使用的 eslint 规范是 <a target="_blank" rel="noopener" href="https://github.com/AlloyTeam/eslint-config-alloy/blob/master/README.zh-CN.md">alloyteam 规范</a>，这里也清楚地写了如何使用这一套规范，我们照着说明使用便可。</p>
<p>首先是安装 eslint 及相关规范插件 <code>npm i eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-react eslint-config-alloy -D</code>。</p>
<p>然后在根目录中新建 <code>.eslintrc.js</code> 文件，并配置插件，我们直接照着 alloyteam 规范的使用说明配置即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .eslintrc.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;alloy&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;alloy/react&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;alloy/typescript&#x27;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="comment">// 你的环境变量（包含多个预定义的全局变量）</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// browser: true,</span></span><br><span class="line">    <span class="comment">// node: true,</span></span><br><span class="line">    <span class="comment">// mocha: true,</span></span><br><span class="line">    <span class="comment">// jest: true,</span></span><br><span class="line">    <span class="comment">// jquery: true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">globals</span>: &#123;</span><br><span class="line">    <span class="comment">// 你的全局变量（设置为 false 表示它不允许被重新赋值）</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// myGlobal: false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="comment">// 自定义你的规则</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>顺便配置一下 <code>.eslintignore</code> 文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">node_modules</span><br><span class="line">*.json</span><br><span class="line">webpack.config.js</span><br><span class="line">*.css</span><br><span class="line">*.less</span><br><span class="line">*.html</span><br></pre></td></tr></table></figure>

<p>这时 eslint 便已经配置完毕了，最后再增加一个 npm 脚本用于手动 lint <code>&quot;lint&quot;: &quot;eslint */**&quot;</code>。</p>
<p>接着我们来配置 prettier。prettier 比 eslint 更专注于代码格式方面，有了 prettier，无论你是哪种编写习惯，我们都能够统一码风。按照惯例先安装 <code>npm i prettier -D</code>。</p>
<p>prettier 的配置比 eslint 简单地多，它只需要在根目录的 <code>.prettierrc.js</code> 中配置各项规则即可，这里我依旧是使用 alloyteam 推荐配置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .prettierrc.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// 一行最多 120 字符</span></span><br><span class="line">  <span class="attr">printWidth</span>: <span class="number">120</span>,</span><br><span class="line">  <span class="comment">// 使用 2 个空格缩进</span></span><br><span class="line">  <span class="attr">tabWidth</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="comment">// 不使用缩进符，而使用空格</span></span><br><span class="line">  <span class="attr">useTabs</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// 行尾需要有分号</span></span><br><span class="line">  <span class="attr">semi</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 使用单引号</span></span><br><span class="line">  <span class="attr">singleQuote</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 对象的 key 仅在必要时用引号</span></span><br><span class="line">  <span class="attr">quoteProps</span>: <span class="string">&#x27;as-needed&#x27;</span>,</span><br><span class="line">  <span class="comment">// jsx 不使用单引号，而使用双引号</span></span><br><span class="line">  <span class="attr">jsxSingleQuote</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// 末尾需要有逗号</span></span><br><span class="line">  <span class="attr">trailingComma</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">  <span class="comment">// 大括号内的首尾需要空格</span></span><br><span class="line">  <span class="attr">bracketSpacing</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// jsx 标签的反尖括号需要换行</span></span><br><span class="line">  <span class="attr">bracketSameLine</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// 箭头函数，只有一个参数的时候，也需要括号</span></span><br><span class="line">  <span class="attr">arrowParens</span>: <span class="string">&#x27;always&#x27;</span>,</span><br><span class="line">  <span class="comment">// 每个文件格式化的范围是文件的全部内容</span></span><br><span class="line">  <span class="attr">rangeStart</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">rangeEnd</span>: <span class="literal">Infinity</span>,</span><br><span class="line">  <span class="comment">// 不需要写文件开头的 @prettier</span></span><br><span class="line">  <span class="attr">requirePragma</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// 不需要自动在文件开头插入 @prettier</span></span><br><span class="line">  <span class="attr">insertPragma</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// 使用默认的折行标准</span></span><br><span class="line">  <span class="attr">proseWrap</span>: <span class="string">&#x27;preserve&#x27;</span>,</span><br><span class="line">  <span class="comment">// 根据显示样式决定 html 要不要折行</span></span><br><span class="line">  <span class="attr">htmlWhitespaceSensitivity</span>: <span class="string">&#x27;css&#x27;</span>,</span><br><span class="line">  <span class="comment">// vue 文件中的 script 和 style 内不用缩进</span></span><br><span class="line">  <span class="attr">vueIndentScriptAndStyle</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// 换行符使用 lf</span></span><br><span class="line">  <span class="attr">endOfLine</span>: <span class="string">&#x27;lf&#x27;</span>,</span><br><span class="line">  <span class="comment">// 格式化内嵌代码</span></span><br><span class="line">  <span class="attr">embeddedLanguageFormatting</span>: <span class="string">&#x27;auto&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然后修改一下我们刚刚配置的 npm 脚本 <code>&quot;lint&quot;: &quot;prettier --write . &amp;&amp; eslint */**&quot;</code>，这里 prettier 的 write 参数是指 prettier 会自动修改不符合规范的地方。</p>
<p>好了，这下我们直接 <code>npm run lint</code> 就可以看着我们的代码规范化了。当然如果你想达到“每次保存代码都格式化”的效果，那么你可以在 <code>.vscode/settings.json</code> 中进行配置。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .vscode/settings.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;editor.defaultFormatter&quot;</span>: <span class="string">&quot;esbenp.prettier-vscode&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;[javascript]&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;editor.defaultFormatter&quot;</span>: <span class="string">&quot;esbenp.prettier-vscode&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;[typescript]&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;editor.defaultFormatter&quot;</span>: <span class="string">&quot;esbenp.prettier-vscode&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;[typescriptreact]&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;editor.defaultFormatter&quot;</span>: <span class="string">&quot;esbenp.prettier-vscode&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;[vue]&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;editor.defaultFormatter&quot;</span>: <span class="string">&quot;esbenp.prettier-vscode&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下来我们来让我们的 less 文件更规范一些。stylelint 便是一个用于 CSS 审查的工具，它可以统一 CSS 代码。在 webpack 中使用 stylelint 需要安装专用于 webpack 的 plugin，同时我们也可以像 eslint 一样安装一些推荐配置 <code>npm i stylelint stylelint-webpack-plugin stylelint-config-standard stylelint-config-css-modules stylelint-order -D</code>。</p>
<p>注意：为了让 stylelint 能够适配 less 语法，我们需要安装 <code>postcss-less</code> 插件并在 <code>stylelint-webpack-plugin</code> 中设置 <code>customSyntax</code> 属性。</p>
<p>使用 stylelint 需要在 <code>webpack.config.js</code> 中配置 plugin，并且也是在 <code>.stylelintrc.js</code> 中单独配置规则。此处我也使用了网络上一份比较完整的配置方案。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line">...</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      <span class="attr">template</span>: path.resolve(__dirname, <span class="string">&#x27;./template/index.html&#x27;</span>), <span class="comment">// 模板位置</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;index.html&#x27;</span>, <span class="comment">// 输出后的文件名，路径是 output.path</span></span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;Nano&#x27;</span>, <span class="comment">// 传给模板的变量</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> StylelintWebpackPlugin(&#123;</span><br><span class="line">      <span class="attr">configFile</span>: path.resolve(__dirname, <span class="string">&#x27;./.stylelintrc.js&#x27;</span>),</span><br><span class="line">      <span class="attr">files</span>: [<span class="string">&#x27;src/**/*.&#123;less,css&#125;&#x27;</span>],</span><br><span class="line">      <span class="attr">customSyntax</span>: <span class="string">&#x27;postcss-less&#x27;</span>, <span class="comment">// 适配 less 语法</span></span><br><span class="line">      <span class="attr">fix</span>: <span class="literal">true</span>, <span class="comment">// 自动格式化</span></span><br><span class="line">      <span class="attr">lintDirtyModulesOnly</span>: <span class="literal">true</span>, <span class="comment">// 仅检查变化的代码</span></span><br><span class="line">      <span class="attr">threads</span>: <span class="literal">true</span>, <span class="comment">// 多线程</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .stylelintrc.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&#x27;stylelint-config-standard&#x27;</span>, <span class="string">&#x27;stylelint-config-css-modules&#x27;</span>],</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="string">&#x27;stylelint-order&#x27;</span>],</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;selector-class-pattern&#x27;</span>: [</span><br><span class="line">      <span class="comment">// 命名规范 -</span></span><br><span class="line">      <span class="regexp">/^([a-z][a-z0-9]*)(-[a-z0-9]+)*$/</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">message</span>: <span class="string">&#x27;Expected class selector to be kebab-case&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&#x27;string-quotes&#x27;</span>: <span class="string">&#x27;single&#x27;</span>, <span class="comment">// 单引号</span></span><br><span class="line">    <span class="string">&#x27;at-rule-empty-line-before&#x27;</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="string">&#x27;at-rule-no-unknown&#x27;</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="string">&#x27;at-rule-name-case&#x27;</span>: <span class="string">&#x27;lower&#x27;</span>, <span class="comment">// 指定@规则名的大小写</span></span><br><span class="line">    <span class="string">&#x27;length-zero-no-unit&#x27;</span>: <span class="literal">true</span>, <span class="comment">// 禁止零长度的单位（可自动修复）</span></span><br><span class="line">    <span class="string">&#x27;shorthand-property-no-redundant-values&#x27;</span>: <span class="literal">true</span>, <span class="comment">// 简写属性</span></span><br><span class="line">    <span class="string">&#x27;number-leading-zero&#x27;</span>: <span class="string">&#x27;never&#x27;</span>, <span class="comment">// 小数不带0</span></span><br><span class="line">    <span class="string">&#x27;declaration-block-no-duplicate-properties&#x27;</span>: <span class="literal">true</span>, <span class="comment">// 禁止声明快重复属性</span></span><br><span class="line">    <span class="string">&#x27;no-descending-specificity&#x27;</span>: <span class="literal">true</span>, <span class="comment">// 禁止在具有较高优先级的选择器后出现被其覆盖的较低优先级的选择器。</span></span><br><span class="line">    <span class="string">&#x27;selector-max-id&#x27;</span>: <span class="number">1</span>, <span class="comment">// 限制一个选择器中 ID 选择器的数量</span></span><br><span class="line">    <span class="string">&#x27;max-nesting-depth&#x27;</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">indentation</span>: [</span><br><span class="line">      <span class="number">2</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 指定缩进  warning 提醒</span></span><br><span class="line">        <span class="attr">severity</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&#x27;order/properties-order&#x27;</span>: [</span><br><span class="line">      <span class="comment">// 规则顺序</span></span><br><span class="line">      <span class="string">&#x27;position&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;top&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;bottom&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;z-index&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;display&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;float&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;height&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;max-width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;max-height&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;min-width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;min-height&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;padding&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;padding-top&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;padding-right&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;padding-bottom&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;padding-left&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-top&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-right&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-bottom&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-left&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-collapse&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-top-collapse&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-right-collapse&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-bottom-collapse&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-left-collapse&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;overflow&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;overflow-x&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;overflow-y&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;clip&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;clear&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;font&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;font-family&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;font-size&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;font-smoothing&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;osx-font-smoothing&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;font-style&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;font-weight&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;line-height&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;letter-spacing&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;word-spacing&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;color&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-align&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-decoration&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-indent&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-overflow&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-rendering&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-size-adjust&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-shadow&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-transform&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;word-break&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;word-wrap&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;white-space&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;vertical-align&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;list-style&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;list-style-type&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;list-style-position&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;list-style-image&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;pointer-events&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;cursor&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;background&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;background-color&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-radius&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;content&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;outline&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;outline-offset&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;opacity&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;filter&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;visibility&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;size&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;transform&#x27;</span>,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这样我们在使用 webpack 打包时就可以自动分析 css 并纠正了。同时为了满足手动纠正的需要，我们配置一个 npm 脚本。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;lint:js&quot;</span>: <span class="string">&quot;prettier --write . &amp;&amp; eslint **/*&quot;</span>,</span><br><span class="line"><span class="string">&quot;lint:css&quot;</span>: <span class="string">&quot;stylelint \&quot;src/**/*.&#123;less,css&#125;\&quot; --config ./.stylelintrc.js --custom-syntax postcss-less --fix&quot;</span></span><br></pre></td></tr></table></figure>

<p>这样我们就可以规范开发中的样式文件了！</p>
<p>最后我们来简单配置一下 <code>.editorconfig</code>。不知道什么是 <code>.editorconfig</code> 的点<a target="_blank" rel="noopener" href="https://editorconfig.org/">这里</a>，简单来说 <code>.editorconfig</code> 文件可以跨编辑器同步一部分配置，如缩进、结尾等。这里我们简单配置一下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// .editorconfig</span><br><span class="line">root = true</span><br><span class="line"></span><br><span class="line">[*]</span><br><span class="line">end_of_line = lf</span><br><span class="line">insert_final_newline = true</span><br><span class="line">charset = utf-8</span><br><span class="line">indent_style = space</span><br><span class="line"></span><br><span class="line">[*.&#123;js,ts,tsx,html,css&#125;]</span><br><span class="line">indent_size = 2</span><br><span class="line"></span><br><span class="line">[*.&#123;json&#125;]</span><br><span class="line">indent_size = 4</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>至此，我们一些基本的代码格式化配置就完成了，这样我们以后在和小伙伴协作开发的时候就再也不用纠结码风听谁的问题了。</p>
<h2 id="提交规范化"><a href="#提交规范化" class="headerlink" title="提交规范化"></a>提交规范化</h2><p>但还有个问题，你的小伙伴每次都不运行 eslint 怎么办？尽管你辛辛苦苦配置了大半天，他仍然无动于衷甚至想把 eslint 直接 uninstall 掉。这个时候我们就得发话了，“不通过 eslint 的代码不许提交！”，但仍然收效甚微，你的小伙伴在开发时还是会写一堆后直接 commit。有没有什么办法让一个人在他 commit 的时候跳出来跟他说你不能 commit 呢？</p>
<p>有！这就是 git hook。一般我们使用 husky 实现 git hook 功能，它可以在“将要提交前”执行一些代码 <code>npm i husky -D</code>。安装完成 husky 之后，我们首先要在根目录中执行 <code>npx husky install</code> 操作以启用 git hooks。然后使用命令 <code>npx husky add .husky/pre-commit &quot;npm run lint:js &amp;&amp; npm run lint:css&quot;</code> 便可以在 commit 之前自动执行 <code>npm run lint:js &amp;&amp; npm run lint:css</code> 指令。</p>
<p>我们在 tsx 里随便写一个错误，执行 <code>git add . &amp;&amp; git commit -m &#39;test&#39;</code> 便可以看到 eslint 的报错了。这样实现了提交时“半强制”检查。</p>
<blockquote>
<p>实际上如果某些人真的想绕过检查，这种方法也不堪一击。这种情况下真正稳定办法是将检查放到 cicd 里。不过我们团队没有这种“有心人”，所以不必大费周章。</p>
</blockquote>
<p>还有最后一个问题，那就是 commit 信息的规范化。相信大家都见过不规范的 git commit，有的过于离谱，有的过于随意。因为怕当事人打我，我就不放截图了。</p>
<p>规范 commit 信息也是规范化不可缺少的一环。我们可以使用 husky 来实现它。它可以在 commit-msg 时运行 <code>commitlint</code> 检查 commit 信息。</p>
<p>首先当然是 <code>npm i @commitlint/config-conventional @commitlint/cli -D</code>。commitlint 也需要简单配置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// commitlint.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&#x27;@commitlint/config-conventional&#x27;</span>],</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="comment">// 提交的类别</span></span><br><span class="line">    <span class="string">&#x27;type-enum&#x27;</span>: [</span><br><span class="line">      <span class="number">2</span>,</span><br><span class="line">      <span class="string">&#x27;always&#x27;</span>,</span><br><span class="line">      [<span class="string">&#x27;build&#x27;</span>, <span class="string">&#x27;ci&#x27;</span>, <span class="string">&#x27;chore&#x27;</span>, <span class="string">&#x27;docs&#x27;</span>, <span class="string">&#x27;feat&#x27;</span>, <span class="string">&#x27;fix&#x27;</span>, <span class="string">&#x27;perf&#x27;</span>, <span class="string">&#x27;refactor&#x27;</span>, <span class="string">&#x27;revert&#x27;</span>, <span class="string">&#x27;style&#x27;</span>, <span class="string">&#x27;test&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然后在 husky 中简单增加一个 hook <code>npx husky set .husky/commit-msg &#39;npx commitlint --edit &quot;$1&quot;&#39;</code>。这里的 <code>$1</code> 就是老版本中的 <code>HUSKY_GIT_PARAMS</code> 也就是提交的信息。</p>
<p>现在我们尝试 <code>git commit -m &#39;test&#39;</code> 的时候，就会给我们报如下错误了：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">⧗   input: test</span><br><span class="line">✖   subject may not be empty [subject-empty]</span><br><span class="line">✖   type may not be empty [type-empty]</span><br><span class="line"></span><br><span class="line">✖   found 2 problems, 0 warnings</span><br><span class="line">ⓘ   Get help: https://github.com/conventional-changelog/commitlint/#what-is-commitlint</span><br><span class="line"></span><br><span class="line">husky - commit-msg hook exited with code 1 (error)</span><br></pre></td></tr></table></figure>

<p>这样就不会出现奇奇怪怪的提交信息了。有需要的小伙伴可以使用 <code>commitizen</code> 来辅助自己提交符合规范的 commit，它需要安装在全局环境下（也可以在项目局部环境中），这里我就不配置了。</p>
<p>终于，小伙伴们可以心平气和地在一起开发了，再也没有奇奇怪怪的问题了。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Saltro Ping</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://blog.saltroping.com/2021/11/29/%E4%BD%BF%E7%94%A8-Webpack5-%E4%BB%8E%E9%9B%B6%E6%9E%B6%E4%B8%80%E4%B8%AA-React+TS-%E9%A1%B9%E7%9B%AE-%E4%BA%8C/">http://blog.saltroping.com/2021/11/29/%E4%BD%BF%E7%94%A8-Webpack5-%E4%BB%8E%E9%9B%B6%E6%9E%B6%E4%B8%80%E4%B8%AA-React+TS-%E9%A1%B9%E7%9B%AE-%E4%BA%8C/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://blog.saltroping.com" target="_blank">SaltroPing 的博客小站</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="post-meta__tags" href="/tags/Webpack/">Webpack</a></div><div class="post_share"><div class="social-share" data-image="http://qiniu-picgo.saltroping.com/Anon.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2021/11/27/%E4%BD%BF%E7%94%A8-Webpack5-%E4%BB%8E%E9%9B%B6%E6%9E%B6%E4%B8%80%E4%B8%AA-React+TS-%E9%A1%B9%E7%9B%AE/"><img class="next-cover" src="http://qiniu-picgo.saltroping.com/雪风大人.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">使用 Webpack5 从零架一个 React+TS 项目（一）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/11/27/%E4%BD%BF%E7%94%A8-Webpack5-%E4%BB%8E%E9%9B%B6%E6%9E%B6%E4%B8%80%E4%B8%AA-React+TS-%E9%A1%B9%E7%9B%AE/" title="使用 Webpack5 从零架一个 React+TS 项目（一）"><img class="cover" src="http://qiniu-picgo.saltroping.com/雪风大人.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-27</div><div class="title">使用 Webpack5 从零架一个 React+TS 项目（一）</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="http://qiniu-picgo.saltroping.com/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Saltro Ping</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Saltro"><i class="fab fa-github"></i><span>Github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Saltro" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="http://www.saltroping.com" target="_blank" title="主页"><i class="fas fa-home"></i></a><a class="social-icon" href="mailto:saltro162@qq.com" target="_blank" title="Email"><i class="fas fa-envelop"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#css-amp-less-%E9%85%8D%E7%BD%AE"><span class="toc-number">1.</span> <span class="toc-text">css &amp; less 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#types%EF%BC%8CtypeRoots%E5%92%8Ctypes"><span class="toc-number">2.</span> <span class="toc-text">@types，typeRoots和types</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E5%8C%96"><span class="toc-number">3.</span> <span class="toc-text">代码规范化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83%E5%8C%96"><span class="toc-number">4.</span> <span class="toc-text">提交规范化</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/11/29/%E4%BD%BF%E7%94%A8-Webpack5-%E4%BB%8E%E9%9B%B6%E6%9E%B6%E4%B8%80%E4%B8%AA-React+TS-%E9%A1%B9%E7%9B%AE-%E4%BA%8C/" title="使用 Webpack5 从零架一个 React+TS 项目（二）"><img src="http://qiniu-picgo.saltroping.com/Anon.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 Webpack5 从零架一个 React+TS 项目（二）"/></a><div class="content"><a class="title" href="/2021/11/29/%E4%BD%BF%E7%94%A8-Webpack5-%E4%BB%8E%E9%9B%B6%E6%9E%B6%E4%B8%80%E4%B8%AA-React+TS-%E9%A1%B9%E7%9B%AE-%E4%BA%8C/" title="使用 Webpack5 从零架一个 React+TS 项目（二）">使用 Webpack5 从零架一个 React+TS 项目（二）</a><time datetime="2021-11-29T14:15:13.000Z" title="发表于 2021-11-29 22:15:13">2021-11-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/27/%E4%BD%BF%E7%94%A8-Webpack5-%E4%BB%8E%E9%9B%B6%E6%9E%B6%E4%B8%80%E4%B8%AA-React+TS-%E9%A1%B9%E7%9B%AE/" title="使用 Webpack5 从零架一个 React+TS 项目（一）"><img src="http://qiniu-picgo.saltroping.com/雪风大人.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 Webpack5 从零架一个 React+TS 项目（一）"/></a><div class="content"><a class="title" href="/2021/11/27/%E4%BD%BF%E7%94%A8-Webpack5-%E4%BB%8E%E9%9B%B6%E6%9E%B6%E4%B8%80%E4%B8%AA-React+TS-%E9%A1%B9%E7%9B%AE/" title="使用 Webpack5 从零架一个 React+TS 项目（一）">使用 Webpack5 从零架一个 React+TS 项目（一）</a><time datetime="2021-11-27T15:22:36.000Z" title="发表于 2021-11-27 23:22:36">2021-11-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/22/%E4%BB%8E%E4%B8%8A%E6%89%8B-travis-ci-%E6%97%B6%E7%8A%AF%E7%9A%84%E9%94%99%E8%AF%AF%E8%81%8A%E8%B5%B7/" title="从上手 travis ci 时犯的错误聊起"><img src="http://qiniu-picgo.saltroping.com/雪风.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从上手 travis ci 时犯的错误聊起"/></a><div class="content"><a class="title" href="/2021/05/22/%E4%BB%8E%E4%B8%8A%E6%89%8B-travis-ci-%E6%97%B6%E7%8A%AF%E7%9A%84%E9%94%99%E8%AF%AF%E8%81%8A%E8%B5%B7/" title="从上手 travis ci 时犯的错误聊起">从上手 travis ci 时犯的错误聊起</a><time datetime="2021-05-22T14:48:53.000Z" title="发表于 2021-05-22 22:48:53">2021-05-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/12/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8-springboot-spring-security-vue-%E7%9A%84%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%9D%83%E9%99%90%E8%AE%A4%E8%AF%81/" title="记一次使用 SpringBoot + Spring Security + Vue 的前后端分离权限认证"><img src="http://qiniu-picgo.saltroping.com/境目.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记一次使用 SpringBoot + Spring Security + Vue 的前后端分离权限认证"/></a><div class="content"><a class="title" href="/2021/04/12/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8-springboot-spring-security-vue-%E7%9A%84%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%9D%83%E9%99%90%E8%AE%A4%E8%AF%81/" title="记一次使用 SpringBoot + Spring Security + Vue 的前后端分离权限认证">记一次使用 SpringBoot + Spring Security + Vue 的前后端分离权限认证</a><time datetime="2021-04-12T12:02:21.000Z" title="发表于 2021-04-12 20:02:21">2021-04-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/12/%E7%BA%BF%E6%AE%B5%E6%A0%91%E6%B5%85%E6%9E%90-%E6%A4%8D%E6%A0%91%E8%8A%82%E9%99%90%E5%AE%9A-%E4%B8%8A/" title="线段树浅析-植树节限定-上"><img src="http://qiniu-picgo.saltroping.com/星星坠落的傍晚.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="线段树浅析-植树节限定-上"/></a><div class="content"><a class="title" href="/2021/03/12/%E7%BA%BF%E6%AE%B5%E6%A0%91%E6%B5%85%E6%9E%90-%E6%A4%8D%E6%A0%91%E8%8A%82%E9%99%90%E5%AE%9A-%E4%B8%8A/" title="线段树浅析-植树节限定-上">线段树浅析-植树节限定-上</a><time datetime="2021-03-12T15:22:36.000Z" title="发表于 2021-03-12 23:22:36">2021-03-12</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Saltro Ping</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>